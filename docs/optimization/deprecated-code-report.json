{
  "total": 76,
  "byType": {
    "todo": 59,
    "deprecated": 14,
    "legacy": 3
  },
  "items": [
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/eventBus.ts",
      "line": 2018,
      "content": "// TODO: Implémenter la logique de preloading business hours",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/eventBus.ts",
      "line": 2043,
      "content": "// TODO: Implémenter la logique de weekend warming",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/eventBus.ts",
      "line": 2128,
      "content": "// TODO: Implémenter la logique de preloading AO workflow",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/eventBus.ts",
      "line": 2154,
      "content": "// TODO: Implémenter la logique de preloading Offre→Projet",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/eventBus.ts",
      "line": 2180,
      "content": "// TODO: Implémenter la logique de preloading Projet workflow",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/eventBus.ts",
      "line": 2207,
      "content": "// TODO: Implémenter la logique de preloading Tâche",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/eventBus.ts",
      "line": 2231,
      "content": "// TODO: Implémenter la logique de preloading Analytics dashboard",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/index.ts",
      "line": 333,
      "content": "const julienUserId = 'julien-lamborot-user-id'; // TODO: récupérer dynamiquement",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/modules/commercial/routes.ts",
      "line": 529,
      "content": "// TODO: Sauvegarder dans la table documents pour persistence locale",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/routes-admin.ts",
      "line": 14,
      "content": "// TODO: Migrer routes admin correctement",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/routes-migration.ts",
      "line": 554,
      "content": "// TODO: Implémenter reset si nécessaire",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/AIService.ts",
      "line": 1397,
      "content": "userId: \"system\", // TODO: récupérer l'userId réel du contexte",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/AIService.ts",
      "line": 1414,
      "content": "userId: \"system\", // TODO: récupérer l'userId réel",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/AIService.ts",
      "line": 1418,
      "content": "processedQuery: request.query, // TODO: implémenter le preprocessing",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/AIService.ts",
      "line": 1420,
      "content": "fallbackUsed: false, // TODO: tracker les fallbacks",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 1329,
      "content": "// TODO: Implémenter une méthode de validation pure dans SQLEngineService",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 1588,
      "content": "// TODO: Implémenter les statistiques complètes",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 1611,
      "content": "avg_response_time_ms: 2500, // TODO: calculer la vraie moyenne",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 1613,
      "content": "estimated_total_cost: 0, // TODO: calculer le coût",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 1615,
      "content": "avg_queries_per_user: 0 // TODO: calculer la moyenne",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 1617,
      "content": "breakdown_data: [], // TODO: implémenter les données de breakdown",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 1619,
      "content": "role_distribution: {}, // TODO: implémenter la distribution par rôle",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 1695,
      "content": "estimatedCost: \"0.0000\" // TODO: calculer le coût réel - convertir en string",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ChatbotOrchestrationService.ts",
      "line": 2057,
      "content": "// TODO: Implémenter la méthode dans ActionExecutionService",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 197,
      "content": "'system', // TODO: Récupérer userId réel",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 200,
      "content": "'complex' // TODO: Déterminer complexité",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 221,
      "content": "{ role: 'system' }, // TODO: Contexte utilisateur réel",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 328,
      "content": "compressionTimeMs: 0, // TODO: Mesurer temps compression",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 1837,
      "content": "// TODO: Implémenter selon pattern buildAOContextLimited",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 1855,
      "content": "// TODO: Implémenter selon pattern buildAOContextLimited",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 1872,
      "content": "// TODO: Implémenter selon pattern buildAOContextLimited",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 1889,
      "content": "// TODO: Implémenter selon pattern buildAOContextLimited",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 1906,
      "content": "// TODO: Implémenter selon pattern buildAOContextLimited",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 1951,
      "content": "// TODO: Requêtes limitées selon maxDays",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 2020,
      "content": "// TODO: Enrichissement selon profil",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 2049,
      "content": "// TODO: Enrichissement selon profil et limites temporelles",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/ContextBuilderService.ts",
      "line": 2080,
      "content": "// TODO: Enrichissement selon profil",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/DateAlertDetectionService.ts",
      "line": 2007,
      "content": "// TODO: Implémenter évaluation échéances",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/DateAlertDetectionService.ts",
      "line": 2012,
      "content": "// TODO: Implémenter évaluation prévisions revenus",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/DateAlertDetectionService.ts",
      "line": 2017,
      "content": "// TODO: Implémenter évaluation retards projets",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/DateAlertDetectionService.ts",
      "line": 2022,
      "content": "// TODO: Implémenter évaluation dépassements budget",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/DocumentSyncService.ts",
      "line": 149,
      "content": "uploadedBy: 'system', // TODO: récupérer l'utilisateur qui a uploadé",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/MenuiserieBusinessRules.ts",
      "line": 695,
      "content": "// TODO: Ajouter calcul des jours fériés variables (Pâques, etc.)",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/MondayMigrationService.ts",
      "line": 218,
      "content": "* @deprecated Utiliser migrateFromAnalyzedData() pour migration production",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/MondayMigrationService.ts",
      "line": 307,
      "content": "* @deprecated Utiliser migrateFromAnalyzedData() pour migration production",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/PrevuVsReelService.ts",
      "line": 150,
      "content": "// TODO: Récupérer heures prévues depuis offre (beHoursEstimated, etc.)",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/SQLEngineService.ts",
      "line": 1384,
      "content": "// TODO: Implémenter détection patterns sophistiqués",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/SQLEngineService.ts",
      "line": 1392,
      "content": "// TODO: Analyser les appels de fonctions dans l'AST",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/SQLEngineService.ts",
      "line": 1400,
      "content": "// TODO: Analyser WHERE clauses pour user_id",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/SQLEngineService.ts",
      "line": 1744,
      "content": "// TODO: Persister en base pour audit complet",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/WorkloadSimulationService.ts",
      "line": 74,
      "content": "userName: '', // TODO: Récupérer nom utilisateur",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/consolidated/BusinessAnalyticsService.ts",
      "line": 546,
      "content": "onTimeDelivery: 0, // TODO: calculate based on deadlines",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/consolidated/BusinessAnalyticsService.ts",
      "line": 548,
      "content": "teamUtilization: 0 // TODO: implement from team load metrics",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/consolidated/BusinessAnalyticsService.ts",
      "line": 609,
      "content": "const teamUtilization = tasks.length > 0 ? 75 : 0; // TODO: implement proper calculation",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/consolidated/BusinessAnalyticsService.ts",
      "line": 661,
      "content": "// TODO: Filter by department when field is available",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/emailService.ts",
      "line": 573,
      "content": "// TODO: Implémentation SendGrid réelle avec resilience wrapper",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/services/emailService.ts",
      "line": 804,
      "content": "// TODO: Intégrer avec un système de tâches programmées (comme node-cron)",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/analytics/KpiRepository.ts",
      "line": 44,
      "content": "baselineComparisonMs: number; // LEGACY_AVG_MS for reference",
      "type": "legacy"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/chiffrage/ChiffrageRepository.ts",
      "line": 667,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/chiffrage/ChiffrageRepository.ts",
      "line": 674,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/chiffrage/ChiffrageRepository.ts",
      "line": 681,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/chiffrage/ChiffrageRepository.ts",
      "line": 693,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/chiffrage/ChiffrageRepository.ts",
      "line": 700,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/chiffrage/ChiffrageRepository.ts",
      "line": 707,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/date-intelligence/DateIntelligenceRepository.ts",
      "line": 775,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser getRule pour DateIntelligenceRule ou getDateAlert pour DateAlert",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/date-intelligence/DateIntelligenceRepository.ts",
      "line": 782,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser getAllRules, getActiveRules, ou getDateAlerts",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/date-intelligence/DateIntelligenceRepository.ts",
      "line": 789,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/date-intelligence/DateIntelligenceRepository.ts",
      "line": 801,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser deleteRule ou deleteDateAlert",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/date-intelligence/DateIntelligenceRepository.ts",
      "line": 808,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/date-intelligence/DateIntelligenceRepository.ts",
      "line": 815,
      "content": "* @deprecated Ce repository gère plusieurs entités - utiliser les méthodes spécifiques avec filtres",
      "type": "deprecated"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage/facade/StorageFacade.ts",
      "line": 445,
      "content": "// Legacy user operations",
      "type": "legacy"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage-poc.ts",
      "line": 3235,
      "content": "// TODO: Phase 6+ - Add proper filtering by status",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/storage-poc.ts",
      "line": 3237,
      "content": "// TODO: Phase 6+ - Add proper ordering support",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/tests/services/MondayMigrationService.test.ts",
      "line": 507,
      "content": "// LEGACY ADAPTER TESTS",
      "type": "legacy"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/utils/rate-limit-monitor.ts",
      "line": 82,
      "content": "// TODO: Send alert to administrators",
      "type": "todo"
    },
    {
      "file": "/Users/thibault/.cursor/worktrees/jlm-app/IKD7V/server/utils/rate-limit-monitor.ts",
      "line": 236,
      "content": "// TODO: Integrate with metrics service when available",
      "type": "todo"
    }
  ]
}