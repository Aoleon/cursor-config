# Configuration Nhost Self-Hosted Production (VPS OVH)
# Copier ce fichier vers .env.production et remplir les valeurs

# ========================================
# BASE DE DONNÉES - NHOST POSTGRESQL PRODUCTION
# ========================================
# URL de connexion PostgreSQL Nhost en production
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:CHANGE_ME_STRONG_PASSWORD@nhost-postgres:5432/nhost

# ========================================
# CONFIGURATION DOCKER NHOST PRODUCTION
# ========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=nhost

# Hasura GraphQL (non utilisé mais requis par Nhost)
# Générer un secret fort pour la production
HASURA_GRAPHQL_ADMIN_SECRET=CHANGE_ME_STRONG_ADMIN_SECRET

# Nhost Auth (désactivé car nous utilisons Microsoft OAuth)
AUTH_HOST=your-domain.com
AUTH_SERVER_URL=https://your-domain.com/auth

# Nhost Storage (MinIO)
S3_REGION=us-east-1
S3_ENDPOINT=http://nhost-minio:9000
S3_BUCKET=nhost
S3_ACCESS_KEY_ID=CHANGE_ME_MINIO_ACCESS_KEY
S3_SECRET_ACCESS_KEY=CHANGE_ME_MINIO_SECRET_KEY

# ========================================
# ENVIRONNEMENT APPLICATION
# ========================================
NODE_ENV=production
PORT=4000

# ========================================
# AUTHENTIFICATION MICROSOFT (Conservée)
# ========================================
AZURE_TENANT_ID=your-azure-tenant-id
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret

# ========================================
# REDIS PRODUCTION
# ========================================
REDIS_URL=redis://nhost-redis:6379

# ========================================
# SÉCURITÉ PRODUCTION
# ========================================
# Session secret (générer un secret fort)
SESSION_SECRET=CHANGE_ME_STRONG_SESSION_SECRET

# CORS (ajuster selon votre domaine)
CORS_ORIGIN=https://your-domain.com

# ========================================
# SERVICES EXTERNES
# ========================================
# OneDrive Sync
ONEDRIVE_SYNC_ENABLED=true
ONEDRIVE_SYNC_SCHEDULE="0 */6 * * *"

# Batigest (si utilisé)
BATIGEST_SIMULATED=false
BATIGEST_SQL_SERVER=your-batigest-server
BATIGEST_DATABASE=your-database
BATIGEST_SQL_USER=your-user
BATIGEST_SQL_PASSWORD=your-password
BATIGEST_SQL_PORT=1433

# ========================================
# MONITORING ET LOGGING
# ========================================
LOG_LEVEL=info
ENABLE_METRICS=true

