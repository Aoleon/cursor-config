{
  "id": "2aaa4743-2ddd-4e3e-a2f1-d0b8e74b15b0",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.ao_lots": {
      "name": "ao_lots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ao_id": {
          "name": "ao_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "numero": {
          "name": "numero",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "designation": {
          "name": "designation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "menuiserie_type": {
          "name": "menuiserie_type",
          "type": "menuiserie_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "montant_estime": {
          "name": "montant_estime",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_selected": {
          "name": "is_selected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ao_lots_ao_id_idx": {
          "name": "ao_lots_ao_id_idx",
          "columns": [
            {
              "expression": "ao_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "ao_lots_ao_id_aos_id_fk": {
          "name": "ao_lots_ao_id_aos_id_fk",
          "tableFrom": "ao_lots",
          "tableTo": "aos",
          "columnsFrom": [
            "ao_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.aos": {
      "name": "aos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "reference": {
          "name": "reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "client": {
          "name": "client",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "departement": {
          "name": "departement",
          "type": "departement",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "intitule_operation": {
          "name": "intitule_operation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "date_limite_remise": {
          "name": "date_limite_remise",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "date_sortie_ao": {
          "name": "date_sortie_ao",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "date_rendu_ao": {
          "name": "date_rendu_ao",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "date_acceptation_ao": {
          "name": "date_acceptation_ao",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_nom": {
          "name": "maitre_ouvrage_nom",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_adresse": {
          "name": "maitre_ouvrage_adresse",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_contact": {
          "name": "maitre_ouvrage_contact",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_email": {
          "name": "maitre_ouvrage_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_phone": {
          "name": "maitre_ouvrage_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_oeuvre": {
          "name": "maitre_oeuvre",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_oeuvre_contact": {
          "name": "maitre_oeuvre_contact",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "menuiserie_type": {
          "name": "menuiserie_type",
          "type": "menuiserie_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "montant_estime": {
          "name": "montant_estime",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "type_marche": {
          "name": "type_marche",
          "type": "marche_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "prorata_eventuel": {
          "name": "prorata_eventuel",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "demarrage_prevu": {
          "name": "demarrage_prevu",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "bureau_etudes": {
          "name": "bureau_etudes",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "bureau_controle": {
          "name": "bureau_controle",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sps": {
          "name": "sps",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "ao_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "date_os": {
          "name": "date_os",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cctp": {
          "name": "cctp",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "delai_contractuel": {
          "name": "delai_contractuel",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_selected": {
          "name": "is_selected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "selection_comment": {
          "name": "selection_comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "aos_reference_idx": {
          "name": "aos_reference_idx",
          "columns": [
            {
              "expression": "reference",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "aos_reference_unique": {
          "name": "aos_reference_unique",
          "nullsNotDistinct": false,
          "columns": [
            "reference"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.be_workload": {
      "name": "be_workload",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "week_number": {
          "name": "week_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "year": {
          "name": "year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "planned_hours": {
          "name": "planned_hours",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'35.00'"
        },
        "actual_hours": {
          "name": "actual_hours",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.00'"
        },
        "dossier_count": {
          "name": "dossier_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "charge_level": {
          "name": "charge_level",
          "type": "charge_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'disponible'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "be_workload_user_week_idx": {
          "name": "be_workload_user_week_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "week_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "year",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "be_workload_user_id_users_id_fk": {
          "name": "be_workload_user_id_users_id_fk",
          "tableFrom": "be_workload",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chiffrage_elements": {
      "name": "chiffrage_elements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "offer_id": {
          "name": "offer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "subcategory": {
          "name": "subcategory",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "designation": {
          "name": "designation",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "unit": {
          "name": "unit",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "quantity": {
          "name": "quantity",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": true
        },
        "unit_price": {
          "name": "unit_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "total_price": {
          "name": "total_price",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "coefficient": {
          "name": "coefficient",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.00'"
        },
        "margin_percentage": {
          "name": "margin_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'20.00'"
        },
        "supplier": {
          "name": "supplier",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_ref": {
          "name": "supplier_ref",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_optional": {
          "name": "is_optional",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "chiffrage_elements_offer_id_offers_id_fk": {
          "name": "chiffrage_elements_offer_id_offers_id_fk",
          "tableFrom": "chiffrage_elements",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dpgf_documents": {
      "name": "dpgf_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "offer_id": {
          "name": "offer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'brouillon'"
        },
        "total_ht": {
          "name": "total_ht",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "total_tva": {
          "name": "total_tva",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "total_ttc": {
          "name": "total_ttc",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "dpgf_data": {
          "name": "dpgf_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "validated_by": {
          "name": "validated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "validated_at": {
          "name": "validated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "batigest_ref": {
          "name": "batigest_ref",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "batigest_synced_at": {
          "name": "batigest_synced_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "dpgf_offer_version_idx": {
          "name": "dpgf_offer_version_idx",
          "columns": [
            {
              "expression": "offer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "dpgf_documents_offer_id_offers_id_fk": {
          "name": "dpgf_documents_offer_id_offers_id_fk",
          "tableFrom": "dpgf_documents",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dpgf_documents_generated_by_users_id_fk": {
          "name": "dpgf_documents_generated_by_users_id_fk",
          "tableFrom": "dpgf_documents",
          "tableTo": "users",
          "columnsFrom": [
            "generated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "dpgf_documents_validated_by_users_id_fk": {
          "name": "dpgf_documents_validated_by_users_id_fk",
          "tableFrom": "dpgf_documents",
          "tableTo": "users",
          "columnsFrom": [
            "validated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.offers": {
      "name": "offers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "reference": {
          "name": "reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "ao_id": {
          "name": "ao_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "client": {
          "name": "client",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "menuiserie_type": {
          "name": "menuiserie_type",
          "type": "menuiserie_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "montant_estime": {
          "name": "montant_estime",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "montant_final": {
          "name": "montant_final",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "intitule_operation": {
          "name": "intitule_operation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_nom": {
          "name": "maitre_ouvrage_nom",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_adresse": {
          "name": "maitre_ouvrage_adresse",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_contact": {
          "name": "maitre_ouvrage_contact",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_email": {
          "name": "maitre_ouvrage_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_ouvrage_phone": {
          "name": "maitre_ouvrage_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_oeuvre": {
          "name": "maitre_oeuvre",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "maitre_oeuvre_contact": {
          "name": "maitre_oeuvre_contact",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "type_marche": {
          "name": "type_marche",
          "type": "marche_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "prorata_eventuel": {
          "name": "prorata_eventuel",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "demarrage_prevu": {
          "name": "demarrage_prevu",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "source": {
          "name": "source",
          "type": "ao_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'website'"
        },
        "plateforme_source": {
          "name": "plateforme_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "contact_direct": {
          "name": "contact_direct",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "departement": {
          "name": "departement",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "distance_km": {
          "name": "distance_km",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "date_os": {
          "name": "date_os",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delai_contractuel": {
          "name": "delai_contractuel",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "date_limite_remise": {
          "name": "date_limite_remise",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "date_sortie_ao": {
          "name": "date_sortie_ao",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "date_rendu_ao": {
          "name": "date_rendu_ao",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "date_acceptation_ao": {
          "name": "date_acceptation_ao",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "bureau_etudes": {
          "name": "bureau_etudes",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "bureau_controle": {
          "name": "bureau_controle",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "sps": {
          "name": "sps",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cctp_disponible": {
          "name": "cctp_disponible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "cctp_imprime": {
          "name": "cctp_imprime",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "etudes_thermiques_disponibles": {
          "name": "etudes_thermiques_disponibles",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "etudes_acoustiques_disponibles": {
          "name": "etudes_acoustiques_disponibles",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "plans_disponibles": {
          "name": "plans_disponibles",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dpgf_client_disponible": {
          "name": "dpgf_client_disponible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dce_disponible": {
          "name": "dce_disponible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "quantitatif_realise": {
          "name": "quantitatif_realise",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "portes_prevues": {
          "name": "portes_prevues",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "fenetres_prevues": {
          "name": "fenetres_prevues",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "autres_elements_prevus": {
          "name": "autres_elements_prevus",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "fournisseurs_consultes": {
          "name": "fournisseurs_consultes",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "fournisseurs_retenus": {
          "name": "fournisseurs_retenus",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tableaux_excel_generes": {
          "name": "tableaux_excel_generes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "devis_detaille_etabli": {
          "name": "devis_detaille_etabli",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "fiches_techniques_transmises": {
          "name": "fiches_techniques_transmises",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dc1_complete": {
          "name": "dc1_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dc2_complete": {
          "name": "dc2_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "references_travaux_fournies": {
          "name": "references_travaux_fournies",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "kbis_valide": {
          "name": "kbis_valide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "assurances_valides": {
          "name": "assurances_valides",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "quitus_legal_fourni": {
          "name": "quitus_legal_fourni",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "urssaf_valide": {
          "name": "urssaf_valide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "assurance_decennale_valide": {
          "name": "assurance_decennale_valide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "rib_valide": {
          "name": "rib_valide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "qualifications_valides": {
          "name": "qualifications_valides",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "plan_assurance_qualite_valide": {
          "name": "plan_assurance_qualite_valide",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "document_passation_genere": {
          "name": "document_passation_genere",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "page_garde_ao_generee": {
          "name": "page_garde_ao_generee",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sous_dossiers_generes": {
          "name": "sous_dossiers_generes",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "point_offre_prevu": {
          "name": "point_offre_prevu",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "dossier_etude_ao_cree": {
          "name": "dossier_etude_ao_cree",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "arborescence_generee": {
          "name": "arborescence_generee",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "status": {
          "name": "status",
          "type": "offer_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'brouillon'"
        },
        "responsible_user_id": {
          "name": "responsible_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_priority": {
          "name": "is_priority",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "dpgf_data": {
          "name": "dpgf_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "batigest_ref": {
          "name": "batigest_ref",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "fin_etudes_validated_at": {
          "name": "fin_etudes_validated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fin_etudes_validated_by": {
          "name": "fin_etudes_validated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "be_hours_estimated": {
          "name": "be_hours_estimated",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "be_hours_actual": {
          "name": "be_hours_actual",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "deadline": {
          "name": "deadline",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "offers_reference_idx": {
          "name": "offers_reference_idx",
          "columns": [
            {
              "expression": "reference",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "offers_status_idx": {
          "name": "offers_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "offers_ao_id_aos_id_fk": {
          "name": "offers_ao_id_aos_id_fk",
          "tableFrom": "offers",
          "tableTo": "aos",
          "columnsFrom": [
            "ao_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_responsible_user_id_users_id_fk": {
          "name": "offers_responsible_user_id_users_id_fk",
          "tableFrom": "offers",
          "tableTo": "users",
          "columnsFrom": [
            "responsible_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "offers_fin_etudes_validated_by_users_id_fk": {
          "name": "offers_fin_etudes_validated_by_users_id_fk",
          "tableFrom": "offers",
          "tableTo": "users",
          "columnsFrom": [
            "fin_etudes_validated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "offers_reference_unique": {
          "name": "offers_reference_unique",
          "nullsNotDistinct": false,
          "columns": [
            "reference"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.project_tasks": {
      "name": "project_tasks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "task_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'a_faire'"
        },
        "assigned_user_id": {
          "name": "assigned_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_hours": {
          "name": "estimated_hours",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_hours": {
          "name": "actual_hours",
          "type": "numeric(8, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_jalon": {
          "name": "is_jalon",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "parent_task_id": {
          "name": "parent_task_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "project_tasks_project_id_projects_id_fk": {
          "name": "project_tasks_project_id_projects_id_fk",
          "tableFrom": "project_tasks",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "project_tasks_assigned_user_id_users_id_fk": {
          "name": "project_tasks_assigned_user_id_users_id_fk",
          "tableFrom": "project_tasks",
          "tableTo": "users",
          "columnsFrom": [
            "assigned_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "offer_id": {
          "name": "offer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "client": {
          "name": "client",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "project_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'etude'"
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "budget": {
          "name": "budget",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "responsible_user_id": {
          "name": "responsible_user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "chef_travaux": {
          "name": "chef_travaux",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "progress_percentage": {
          "name": "progress_percentage",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "projects_offer_id_offers_id_fk": {
          "name": "projects_offer_id_offers_id_fk",
          "tableFrom": "projects",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_responsible_user_id_users_id_fk": {
          "name": "projects_responsible_user_id_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "responsible_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "projects_chef_travaux_users_id_fk": {
          "name": "projects_chef_travaux_users_id_fk",
          "tableFrom": "projects",
          "tableTo": "users",
          "columnsFrom": [
            "chef_travaux"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.supplier_requests": {
      "name": "supplier_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "offer_id": {
          "name": "offer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_name": {
          "name": "supplier_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "supplier_email": {
          "name": "supplier_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "supplier_phone": {
          "name": "supplier_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_items": {
          "name": "requested_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'envoyee'"
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "response_at": {
          "name": "response_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "quotation_amount": {
          "name": "quotation_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "supplier_requests_offer_id_offers_id_fk": {
          "name": "supplier_requests_offer_id_offers_id_fk",
          "tableFrom": "supplier_requests",
          "tableTo": "offers",
          "columnsFrom": [
            "offer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "supplier_requests_project_id_projects_id_fk": {
          "name": "supplier_requests_project_id_projects_id_fk",
          "tableFrom": "supplier_requests",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.team_resources": {
      "name": "team_resources",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "project_id": {
          "name": "project_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "external_name": {
          "name": "external_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "charge_status": {
          "name": "charge_status",
          "type": "charge_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'disponible'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "team_resources_project_id_projects_id_fk": {
          "name": "team_resources_project_id_projects_id_fk",
          "tableFrom": "team_resources",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "team_resources_user_id_users_id_fk": {
          "name": "team_resources_user_id_users_id_fk",
          "tableFrom": "team_resources",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'technicien_be'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "charge_status": {
          "name": "charge_status",
          "type": "charge_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'disponible'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.ao_source": {
      "name": "ao_source",
      "schema": "public",
      "values": [
        "mail",
        "phone",
        "website",
        "partner",
        "other"
      ]
    },
    "public.charge_status": {
      "name": "charge_status",
      "schema": "public",
      "values": [
        "disponible",
        "occupe",
        "surcharge"
      ]
    },
    "public.departement": {
      "name": "departement",
      "schema": "public",
      "values": [
        "01",
        "02",
        "03",
        "04",
        "05",
        "06",
        "07",
        "08",
        "09",
        "10",
        "11",
        "12",
        "13",
        "14",
        "15",
        "16",
        "17",
        "18",
        "19",
        "20",
        "21",
        "22",
        "23",
        "24",
        "25",
        "26",
        "27",
        "28",
        "29",
        "30",
        "31",
        "32",
        "33",
        "34",
        "35",
        "36",
        "37",
        "38",
        "39",
        "40",
        "41",
        "42",
        "43",
        "44",
        "45",
        "46",
        "47",
        "48",
        "49",
        "50",
        "51",
        "52",
        "53",
        "54",
        "55",
        "56",
        "57",
        "58",
        "59",
        "60",
        "61",
        "62",
        "63",
        "64",
        "65",
        "66",
        "67",
        "68",
        "69",
        "70",
        "71",
        "72",
        "73",
        "74",
        "75",
        "76",
        "77",
        "78",
        "79",
        "80",
        "81",
        "82",
        "83",
        "84",
        "85",
        "86",
        "87",
        "88",
        "89",
        "90",
        "91",
        "92",
        "93",
        "94",
        "95"
      ]
    },
    "public.marche_type": {
      "name": "marche_type",
      "schema": "public",
      "values": [
        "public",
        "prive",
        "ao_restreint",
        "ao_ouvert",
        "marche_negocie",
        "procedure_adaptee"
      ]
    },
    "public.menuiserie_type": {
      "name": "menuiserie_type",
      "schema": "public",
      "values": [
        "fenetre",
        "porte",
        "portail",
        "volet",
        "cloison",
        "verriere",
        "autre"
      ]
    },
    "public.offer_status": {
      "name": "offer_status",
      "schema": "public",
      "values": [
        "brouillon",
        "en_cours_chiffrage",
        "en_attente_validation",
        "fin_etudes_validee",
        "valide",
        "signe",
        "transforme_en_projet",
        "termine",
        "archive"
      ]
    },
    "public.project_status": {
      "name": "project_status",
      "schema": "public",
      "values": [
        "etude",
        "planification",
        "approvisionnement",
        "chantier",
        "sav"
      ]
    },
    "public.task_status": {
      "name": "task_status",
      "schema": "public",
      "values": [
        "a_faire",
        "en_cours",
        "termine",
        "en_retard"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}