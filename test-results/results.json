{"numTotalTestSuites":6,"numPassedTestSuites":2,"numFailedTestSuites":4,"numPendingTestSuites":0,"numTotalTests":15,"numPassedTests":13,"numFailedTests":2,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1759064150956,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","GET /api/ai/context/:entityType/:id - Bug Fix Validation"],"fullName":"AI Service Routes - Test Endpoint Context Fix GET /api/ai/context/:entityType/:id - Bug Fix Validation devrait réussir avec des paramètres valides (bug corrigé)","status":"passed","title":"devrait réussir avec des paramètres valides (bug corrigé)","duration":140.12441200000012,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","GET /api/ai/context/:entityType/:id - Bug Fix Validation"],"fullName":"AI Service Routes - Test Endpoint Context Fix GET /api/ai/context/:entityType/:id - Bug Fix Validation devrait échouer avec entityType invalide","status":"passed","title":"devrait échouer avec entityType invalide","duration":145.27327100000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","GET /api/ai/context/:entityType/:id - Bug Fix Validation"],"fullName":"AI Service Routes - Test Endpoint Context Fix GET /api/ai/context/:entityType/:id - Bug Fix Validation devrait échouer avec entityId vide","status":"passed","title":"devrait échouer avec entityId vide","duration":158.95701000000008,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","GET /api/ai/context/:entityType/:id - Bug Fix Validation"],"fullName":"AI Service Routes - Test Endpoint Context Fix GET /api/ai/context/:entityType/:id - Bug Fix Validation devrait échouer avec entityId contenant seulement des espaces","status":"passed","title":"devrait échouer avec entityId contenant seulement des espaces","duration":150.07002099999954,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","GET /api/ai/context/:entityType/:id - Bug Fix Validation"],"fullName":"AI Service Routes - Test Endpoint Context Fix GET /api/ai/context/:entityType/:id - Bug Fix Validation devrait gérer différents types d'entités supportés","status":"failed","title":"devrait gérer différents types d'entités supportés","duration":162.44742099999985,"failureMessages":["Error: expected 200 \"OK\", got 500 \"Internal Server Error\"\n    at /home/runner/workspace/tests/backend/routes/ai-service.test.ts:187:12\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at file:///home/runner/workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20\n----\n    at Test._assertStatus (/home/runner/workspace/node_modules/supertest/lib/test.js:309:14)\n    at /home/runner/workspace/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/runner/workspace/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/runner/workspace/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/runner/workspace/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/runner/workspace/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","GET /api/ai/context/:entityType/:id - Bug Fix Validation"],"fullName":"AI Service Routes - Test Endpoint Context Fix GET /api/ai/context/:entityType/:id - Bug Fix Validation devrait accepter différents types de requête via query param","status":"passed","title":"devrait accepter différents types de requête via query param","duration":51.50768799999969,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","GET /api/ai/context/:entityType/:id - Bug Fix Validation"],"fullName":"AI Service Routes - Test Endpoint Context Fix GET /api/ai/context/:entityType/:id - Bug Fix Validation devrait utiliser \"summary\" comme type par défaut","status":"passed","title":"devrait utiliser \"summary\" comme type par défaut","duration":59.83803699999953,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","GET /api/ai/context/:entityType/:id - Bug Fix Validation"],"fullName":"AI Service Routes - Test Endpoint Context Fix GET /api/ai/context/:entityType/:id - Bug Fix Validation devrait retourner les métadonnées complètes","status":"passed","title":"devrait retourner les métadonnées complètes","duration":69.15065600000071,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","Autres endpoints AI - Smoke Tests"],"fullName":"AI Service Routes - Test Endpoint Context Fix Autres endpoints AI - Smoke Tests POST /api/ai/generate-sql devrait fonctionner","status":"passed","title":"POST /api/ai/generate-sql devrait fonctionner","duration":75.72717599999942,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","Autres endpoints AI - Smoke Tests"],"fullName":"AI Service Routes - Test Endpoint Context Fix Autres endpoints AI - Smoke Tests GET /api/ai/usage-stats devrait fonctionner","status":"passed","title":"GET /api/ai/usage-stats devrait fonctionner","duration":63.78007700000035,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","Autres endpoints AI - Smoke Tests"],"fullName":"AI Service Routes - Test Endpoint Context Fix Autres endpoints AI - Smoke Tests GET /api/ai/health-check devrait fonctionner","status":"passed","title":"GET /api/ai/health-check devrait fonctionner","duration":53.722576999999546,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","Autres endpoints AI - Smoke Tests"],"fullName":"AI Service Routes - Test Endpoint Context Fix Autres endpoints AI - Smoke Tests GET /api/ai/config devrait fonctionner","status":"passed","title":"GET /api/ai/config devrait fonctionner","duration":40.25898799999959,"failureMessages":[],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","Gestion des erreurs génériques"],"fullName":"AI Service Routes - Test Endpoint Context Fix Gestion des erreurs génériques devrait gérer les erreurs internes du service AI","status":"failed","title":"devrait gérer les erreurs internes du service AI","duration":27.33903900000041,"failureMessages":["Error: expected 500 \"Internal Server Error\", got 200 \"OK\"\n    at /home/runner/workspace/tests/backend/routes/ai-service.test.ts:285:10\n    at file:///home/runner/workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///home/runner/workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:752:26\n    at file:///home/runner/workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///home/runner/workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runTest (file:///home/runner/workspace/node_modules/@vitest/runner/dist/chunk-hooks.js:1574:12)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n----\n    at Test._assertStatus (/home/runner/workspace/node_modules/supertest/lib/test.js:309:14)\n    at /home/runner/workspace/node_modules/supertest/lib/test.js:365:13\n    at Test._assertFunction (/home/runner/workspace/node_modules/supertest/lib/test.js:342:13)\n    at Test.assert (/home/runner/workspace/node_modules/supertest/lib/test.js:195:23)\n    at localAssert (/home/runner/workspace/node_modules/supertest/lib/test.js:138:14)\n    at Server.<anonymous> (/home/runner/workspace/node_modules/supertest/lib/test.js:152:11)\n    at Object.onceWrapper (node:events:638:28)\n    at Server.emit (node:events:524:28)\n    at emitCloseNT (node:net:2344:8)\n    at processTicksAndRejections (node:internal/process/task_queues:81:21)"],"meta":{}},{"ancestorTitles":["AI Service Routes - Test Endpoint Context Fix","Gestion des erreurs génériques"],"fullName":"AI Service Routes - Test Endpoint Context Fix Gestion des erreurs génériques devrait gérer le cas où le contexte n'est pas trouvé","status":"passed","title":"devrait gérer le cas où le contexte n'est pas trouvé","duration":10.455949000000146,"failureMessages":[],"meta":{}},{"ancestorTitles":["Validation spécifique du fix de bug"],"fullName":"Validation spécifique du fix de bug devrait correctement extraire entityId depuis le paramètre :id","status":"passed","title":"devrait correctement extraire entityId depuis le paramètre :id","duration":99.83522400000038,"failureMessages":[],"meta":{}}],"startTime":1759064156017,"endTime":1759064156283.456,"status":"failed","message":"","name":"/home/runner/workspace/tests/backend/routes/ai-service.test.ts"}]}